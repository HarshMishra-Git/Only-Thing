# ========================================
# ENVIRONMENT CONFIGURATION EXAMPLE
# ========================================
# Copy this file to .env for local development
# NEVER commit .env files to version control
# ========================================

# Environment
NODE_ENV=development # development | staging | production

# ========================================
# DATABASE
# ========================================
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
DATABASE_URL=postgresql://postgres:password@localhost:5432/ecommerce_dev

# Direct URL for migrations (if using connection pooling)
DIRECT_URL=postgresql://postgres:password@localhost:5432/ecommerce_dev

# ========================================
# REDIS CACHE
# ========================================
REDIS_URL=redis://localhost:6379

# ========================================
# JWT AUTHENTICATION
# ========================================
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# ========================================
# SECURITY
# ========================================
# CSRF Secret (32+ characters)
CSRF_SECRET=your-csrf-secret-32-characters-minimum

# Session Secret (32+ characters)
SESSION_SECRET=your-session-secret-32-characters-minimum

# ========================================
# CORS & FRONTEND
# ========================================
FRONTEND_URL=http://localhost:3000
API_URL=http://localhost:3001

# ========================================
# ANALYTICS
# ========================================
# Google Analytics 4
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# Sentry Error Tracking
SENTRY_DSN=https://xxx@sentry.io/xxx
NEXT_PUBLIC_SENTRY_DSN=https://xxx@sentry.io/xxx

# ========================================
# PAYMENT PROCESSING
# ========================================
# Stripe
STRIPE_SECRET_KEY=sk_test_xxxxx
STRIPE_PUBLISHABLE_KEY=pk_test_xxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxx

# PayPal (if using)
PAYPAL_CLIENT_ID=xxxxx
PAYPAL_CLIENT_SECRET=xxxxx

# ========================================
# EMAIL SERVICE
# ========================================
# SendGrid / Mailgun / SMTP
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-password
EMAIL_FROM=noreply@yourstore.com

# SendGrid API Key (alternative)
SENDGRID_API_KEY=SG.xxxxx

# ========================================
# FILE STORAGE
# ========================================
# AWS S3
AWS_ACCESS_KEY_ID=xxxxx
AWS_SECRET_ACCESS_KEY=xxxxx
AWS_REGION=us-east-1
AWS_S3_BUCKET=your-bucket-name

# Cloudinary (alternative)
CLOUDINARY_CLOUD_NAME=xxxxx
CLOUDINARY_API_KEY=xxxxx
CLOUDINARY_API_SECRET=xxxxx

# ========================================
# CMS (Sanity)
# ========================================
NEXT_PUBLIC_SANITY_PROJECT_ID=xxxxx
NEXT_PUBLIC_SANITY_DATASET=production
SANITY_API_TOKEN=xxxxx

# ========================================
# RATE LIMITING
# ========================================
RATE_LIMIT_WINDOW=15m
RATE_LIMIT_MAX=100

# ========================================
# MONITORING & LOGGING
# ========================================
LOG_LEVEL=info # debug | info | warn | error
ENABLE_REQUEST_LOGGING=true

# ========================================
# DEPLOYMENT (GitHub Secrets)
# ========================================
# These should be set in GitHub Secrets, not in .env

# Vercel
# VERCEL_TOKEN=xxxxx
# VERCEL_ORG_ID=xxxxx
# VERCEL_PROJECT_ID=xxxxx

# Railway/Render
# RAILWAY_TOKEN=xxxxx
# RENDER_API_KEY=xxxxx

# Database (Production)
# PRODUCTION_DATABASE_URL=postgresql://...
# STAGING_DATABASE_URL=postgresql://...

# Slack Notifications
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxxxx

# SSH Keys for Deployment
# PRODUCTION_HOST=xxxxx
# PRODUCTION_USER=xxxxx
# PRODUCTION_SSH_KEY=xxxxx
# STAGING_HOST=xxxxx
# STAGING_USER=xxxxx
# STAGING_SSH_KEY=xxxxx

# ========================================
# FEATURE FLAGS
# ========================================
ENABLE_REDIS_CACHE=true
ENABLE_SENTRY=false
ENABLE_ANALYTICS=true
ENABLE_EMAIL_NOTIFICATIONS=true

# ========================================
# APPLICATION
# ========================================
PORT=3001
HOST=0.0.0.0

# API Rate Limiting
API_RATE_LIMIT=100
API_RATE_WINDOW=900000

# File Upload
MAX_FILE_SIZE=5242880 # 5MB in bytes
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp

# ========================================
# DEVELOPMENT ONLY
# ========================================
# Prisma Studio
# Run: npx prisma studio
PRISMA_STUDIO_PORT=5555

# Debug
DEBUG=false
VERBOSE_LOGGING=false
